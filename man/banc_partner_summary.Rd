% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/partners.R
\name{banc_partner_summary}
\alias{banc_partner_summary}
\alias{banc_partners}
\title{Summarise the connectivity of BANC neurons}
\usage{
banc_partner_summary(
  rootids,
  partners = c("outputs", "inputs"),
  synapse_table = c("synapses_250226", "synapses_v1"),
  threshold = 0,
  remove_autapses = TRUE,
  cleft.threshold = 0,
  datastack_name = NULL,
  ...
)

banc_partners(
  rootids,
  partners = c("input", "output"),
  synapse_table = c("synapses_250226", "synapses_v1"),
  ...
)
}
\arguments{
\item{rootids}{Character vector specifying one or more BANC rootids. As a
convenience this argument is passed to \code{\link{banc_ids}} allowing you
to pass in data.frames, BANC URLs or simple ids.}

\item{partners}{Character vector, either "outputs" or "inputs" to specify the direction of synaptic connections to retrieve.}

\item{synapse_table}{Character, the name of the synapse CAVE table you wish to use. Defaults to the latest.}

\item{threshold}{Integer threshold for minimum number of synapses (default 0).}

\item{remove_autapses}{Logical, whether to remove self-connections (default TRUE).}

\item{cleft.threshold}{Numeric threshold for cleft filtering (default 0).}

\item{datastack_name}{An optional CAVE \code{datastack_name}. If unset a
sensible default is chosen.}

\item{...}{Additional arguments passed to \code{\link[fafbseg]{flywire_partner_summary}}}
}
\value{
a data.frame
}
\description{
Returns synaptically connected partners for specified neurons. Understanding
synaptic partnerships is crucial for analyzing neural circuits in the Brain And
Nerve Cord (BANC) connectome, revealing how distributed control architecture
coordinates behaviour across brain and ventral nerve cord regions.

\code{banc_partners} returns details of each unitary synaptic
connection (including its xyz location).
}
\details{
note that the rootids you pass in must be up to date. See example.
}
\examples{
\dontrun{
# Basic connectivity analysis
sample_id=banc_latestid("720575941478275714")
head(banc_partner_summary(sample_id))
head(banc_partner_summary(sample_id, partners='inputs'))

# Research application: Analyze descending neuron control circuits
library(dplyr)

# Get DNa02 descending neurons that control walking behavior
dna02_annotations <- banc_codex_annotations() \%>\%
  filter(cell_type == "DNa02")
dna02_id <- dna02_annotations$pt_root_id[1]

# Find their downstream targets in the VNC
dna02_outputs <- banc_partner_summary(dna02_id, partners='outputs') \%>\%
  slice_max(weight, n = 10)

# Visualize the circuit in neuroglancer
banc_partner_summary(sample_id, partners='inputs') \%>\%
  slice_max(weight, n = 20) \%>\%
  banc_scene(open=TRUE)
}
\dontrun{
# plot input and output synapses of a neuron
nclear3d()
fpi=banc_partners(banc_latestid("720575941478275714"), partners='in')
points3d(banc_raw2nm(fpi$post_pt_position), col='cyan')
fpo=banc_partners(banc_latestid("720575941478275714"), partners='out')
points3d(banc_raw2nm(fpo$pre_pt_position), col='red')
}
}
\seealso{
\code{\link{flywire_partner_summary}}, \code{\link{banc_latestid}}
}
