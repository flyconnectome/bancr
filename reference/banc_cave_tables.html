<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read BANC CAVE-tables, good sources of metadata — banc_cave_tables • bancr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read BANC CAVE-tables, good sources of metadata — banc_cave_tables"><meta name="description" content="CAVE tables query functions that track neurons across segmentation changes
so that annotations and neuron entities can be stably tracked together.
The Brain And Nerve Cord (BANC) dataset represents the first complete
connectome including both brain and ventral nerve cord of a limbed animal,
comprising approximately 160,000 neurons across the entire central nervous system."><meta property="og:description" content="CAVE tables query functions that track neurons across segmentation changes
so that annotations and neuron entities can be stably tracked together.
The Brain And Nerve Cord (BANC) dataset represents the first complete
connectome including both brain and ventral nerve cord of a limbed animal,
comprising approximately 160,000 neurons across the entire central nervous system."><meta property="og:image" content="https://flyconnectome.github.io/bancr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bancr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../SUPPORT.html">Help</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://natverse.github.io">natverse</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/flyconnectome/bancr/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read BANC CAVE-tables, good sources of metadata</h1>
      <small class="dont-index">Source: <a href="https://github.com/flyconnectome/bancr/blob/main/R/cave-tables.R" class="external-link"><code>R/cave-tables.R</code></a></small>
      <div class="d-none name"><code>banc_cave_tables.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>CAVE tables query functions that track neurons across segmentation changes
so that annotations and neuron entities can be stably tracked together.
The Brain And Nerve Cord (BANC) dataset represents the first complete
connectome including both brain and ventral nerve cord of a limbed animal,
comprising approximately 160,000 neurons across the entire central nervous system.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">banc_cave_tables</span><span class="op">(</span>datastack_name <span class="op">=</span> <span class="cn">NULL</span>, select <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_cave_views</span><span class="op">(</span>datastack_name <span class="op">=</span> <span class="cn">NULL</span>, select <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_edgelist</span><span class="op">(</span></span>
<span>  edgelist_view <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"synapses_v2_backbone_proofread_and_peripheral_nerves_counts"</span>,</span>
<span>    <span class="st">"synapses_v2_backbone_proofread_counts"</span>,</span>
<span>    <span class="st">"synapses_250226_backbone_proofread_and_peripheral_nerves_counts"</span>,</span>
<span>    <span class="st">"synapses_250226_backbone_proofread_counts"</span>, <span class="st">"synapses_v1_backbone_proofread_counts"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_mitochondria</span><span class="op">(</span></span>
<span>  rootids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"mitochondria_v1"</span>,</span>
<span>  rawcoords <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_nuclei</span><span class="op">(</span></span>
<span>  rootids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nucleus_ids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"both"</span>, <span class="st">"somas_v1a"</span>, <span class="st">"somas_v1b"</span><span class="op">)</span>,</span>
<span>  rawcoords <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_cell_info</span><span class="op">(</span>rootids <span class="op">=</span> <span class="cn">NULL</span>, rawcoords <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_proofreading_notes</span><span class="op">(</span>rootids <span class="op">=</span> <span class="cn">NULL</span>, rawcoords <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_cell_ids</span><span class="op">(</span>rootids <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_neck_connective_neurons</span><span class="op">(</span></span>
<span>  rootids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"neck_connective_y92500"</span>, <span class="st">"neck_connective_y121000"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_peripheral_nerves</span><span class="op">(</span>rootids <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_backbone_proofread</span><span class="op">(</span>rootids <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_nt_prediction</span><span class="op">(</span></span>
<span>  rootids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"synapses_250226_nt_prediction_5"</span>,</span>
<span>  simplify <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  rawcoords <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">banc_version</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-datastack-name">datastack_name<a class="anchor" aria-label="anchor" href="#arg-datastack-name"></a></dt>
<dd><p>Defaults to "brain_and_nerve_cord". See https://global.daf-apis.com/info/ for other options.</p></dd>


<dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>A regex term for the name of the table you want</p></dd>


<dt id="arg-edgelist-view">edgelist_view<a class="anchor" aria-label="anchor" href="#arg-edgelist-view"></a></dt>
<dd><p>Character, name of prepared CAVE view that computes the proofread-neuron edgelist.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to
<code>fafbseg::<a href="https://rdrr.io/pkg/fafbseg/man/flywire_cave_query.html" class="external-link">flywire_cave_query</a></code> or <code>bancr:::get_cave_table_data</code>.</p></dd>


<dt id="arg-rootids">rootids<a class="anchor" aria-label="anchor" href="#arg-rootids"></a></dt>
<dd><p>Character vector specifying one or more BANC rootids. As a
convenience this argument is passed to <code><a href="banc_ids.html">banc_ids</a></code> allowing you
to pass in data.frames, BANC URLs or simple ids.</p></dd>


<dt id="arg-table">table<a class="anchor" aria-label="anchor" href="#arg-table"></a></dt>
<dd><p>Character, possible alternative tables for the sort of data frame the function returns. One must be chosen.</p></dd>


<dt id="arg-rawcoords">rawcoords<a class="anchor" aria-label="anchor" href="#arg-rawcoords"></a></dt>
<dd><p>Logical, whether or not to convert from raw coordinates into nanometers. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-nucleus-ids">nucleus_ids<a class="anchor" aria-label="anchor" href="#arg-nucleus-ids"></a></dt>
<dd><p>Character vector specifying one or more BANC nucleus ids.
The nucleus (<a href="https://en.wikipedia.org/wiki/Cell_nucleus" class="external-link">https://en.wikipedia.org/wiki/Cell_nucleus</a>) contains
the cell body and provides a stable reference point for neuron identification.</p></dd>


<dt id="arg-simplify">simplify<a class="anchor" aria-label="anchor" href="#arg-simplify"></a></dt>
<dd><p>logical, if <code>TRUE</code> then the proportion of presynaptic connections for each transmitter type is returned, for each query neuron.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code> describing a CAVE-table related to the BANC project.
In the case of <code>banc_cave_tables</code>, a vector is returned containing the names of
all query-able cave tables.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>CAVE tables store rich metadata supporting analysis of distributed neural
control across the entire central nervous system. For more information about
CAVE infrastructure, see <a href="https://www.caveconnecto.me/CAVEclient/" class="external-link">https://www.caveconnecto.me/CAVEclient/</a>.</p>
<p><code>banc_edgelist</code> returns a data frame of neuron-neuron connections where
the pre (presynaptic) neuron is upstream of the post (postsynaptic) neuron.
This edgelist contains synaptic connectivity data crucial for understanding
distributed neural control and behaviour-centric neural modules across the
brain-VNC boundary.</p>
<p><code>banc_cell_info</code> accesses the cell_info CAVE table containing non-centralised
annotations from the research community for connectome neurones. These annotations
represent diverse contributions from researchers studying specific neural circuits
and cell types in the BANC dataset.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code>fafbseg::<a href="https://rdrr.io/pkg/fafbseg/man/flywire_cave_query.html" class="external-link">flywire_cave_query</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">all_banc_soma_positions</span> <span class="op">&lt;-</span> <span class="fu">banc_nuclei</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://dmurdoch.github.io/rgl/dev/reference/primitives.html" class="external-link">points3d</a></span><span class="op">(</span><span class="fu">nat</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/nat/man/xyzmatrix.html" class="external-link">xyzmatrix</a></span><span class="op">(</span><span class="va">all_banc_soma_positions</span><span class="op">$</span><span class="va">pt_position</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexander Bates, Gregory Jefferis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

